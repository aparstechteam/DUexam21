import{v as h,M as _,j as i,k as n,l as s,m as a,B as p,L as f,F as g,z as x,G as v,I as b,J as w}from"./index.e57cf798.js";import{_ as y}from"./plugin-vue_export-helper.21dcd24c.js";const k={data(){return{search:"",testResults:[],allresult:[],results:[]}},methods:{async modeltestResults(){let o=await(await fetch(`${h}?type=examlist&id=${this.$route.params.id}`)).json(),c=await(await fetch(_+o.exam.responsesheetlink)).json();this.testResults=c.routines.sort((t,l)=>l.mcq_marks-t.mcq_marks).map((t,l)=>({position:l+1,name:t.name,roll:t.college,duration:this.millisToMinutesAndSeconds(t.start,t.end),score:t.mcq_marks})).sort((t,l)=>t.duration-l.duration),this.allresult=this.testResults},millisToMinutesAndSeconds(e,o){var d=new Date(o).getTime()-new Date(e).getTime(),c=Math.floor(d/6e4),t=(d%6e4/1e3).toFixed(0);return c+":"+(t<10?"0":"")+t},searchResult(){this.testResults=this.allresult.filter(e=>{if(e.reg.toLowerCase().includes(this.search.toLowerCase())||e.name.toLowerCase().includes(this.search.toLowerCase()))return e})},getStyle(e){return e==1?"success":e==2?"orange darken-2":e==3?"indigo":""},getborderStyle(e){return e==1?"s singleResult mb-2":e==2?"f singleResult mb-2":e==3?"d singleResult mb-2":"singleResult mb-2"}},created(){this.modeltestResults()}},u=e=>(b("data-v-ccc1f3b4"),e=e(),w(),e),R={class:"mb-10 leaderboard"},L={class:"my-5"},S={class:"mb-4 text-2xl font-bold text-center dark:text-white"},C={class:"p-5 mx-1 bg-gray-200 rounded md:w-1/2 md:mx-auto bg-opacity-60"},j={class:"mt-4"},M={key:0},B=["id"],I={class:"flex items-center justify-center w-10 h-10 font-semibold text-white rounded-full bg-gradient-to-t from-red-400 to-red-600"},T={class:"flex-1 ml-2 md:ml-4"},D={class:"text-lg font-semibold"},q={class:"p-2 border-2 border-red-400"},z={key:1,class:"flex items-center justify-center mt-10 space-x-1 text-sm text-gray-700 dark:text-white"},A=u(()=>s("svg",{fill:"none",class:"w-10 h-10 animate-spin",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},[s("path",{"clip-rule":"evenodd",d:"M15.165 8.53a.5.5 0 01-.404.58A7 7 0 1023 16a.5.5 0 011 0 8 8 0 11-9.416-7.874.5.5 0 01.58.404z",fill:"currentColor","fill-rule":"evenodd"})],-1)),F=u(()=>s("div",{class:"text-lg"},"Loading ...",-1)),N=[A,F];function V(e,o,d,c,t,l){return i(),n("div",R,[s("div",L,[s("h1",S," Leaderboard-"+a(this.$route.params.id),1),s("div",C,[s("div",null,[p(s("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>t.search=r),placeholder:"Search by Name/College",onKeyup:o[1]||(o[1]=(...r)=>l.searchResult&&l.searchResult(...r)),class:"w-full input input-bordered"},null,544),[[f,t.search]])]),s("div",j,[t.allresult.length>0?(i(),n("div",M,[(i(!0),n(g,null,x(t.testResults,(r,m)=>(i(),n("div",{key:m,id:r.roll,class:v(`${l.getborderStyle(r.position)}  flex justify-between items-center p-5 rounded bg-gray-100 dark:bg-gray-900 dark:text-white shadow-md`)},[s("span",I,a(r.position),1),s("div",T,[s("h2",D,a(r.name),1),s("p",null,a(r.roll),1),s("p",null,a(r.duration)+" minutes",1)]),s("div",q,a(r.score),1)],10,B))),128))])):(i(),n("div",z,N))])])])])}var G=y(k,[["render",V],["__scopeId","data-v-ccc1f3b4"]]);export{G as default};
