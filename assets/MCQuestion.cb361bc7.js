var M=Object.defineProperty,H=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var T=(a,s,d)=>s in a?M(a,s,{enumerable:!0,configurable:!0,writable:!0,value:d}):a[s]=d,_=(a,s)=>{for(var d in s||(s={}))D.call(s,d)&&T(a,d,s[d]);if(w)for(var d of w(s))I.call(s,d)&&T(a,d,s[d]);return a},y=(a,s)=>H(a,S(s));import{E as N,J as A,K as R,v as L,j as o,k as n,l as r,y as l,I as k,m as u,H as j,C as W,B as C,F as x,x as v,L as B,M as Y,G as h}from"./index.11b69485.js";import{_ as V}from"./plugin-vue_export-helper.21dcd24c.js";const E={data(){return{timing:null,solutionv:!1,retake:!1,questions:[],solution:[],result:[],unknown:!1,loading:!0,eload:!1,minute:0,second:0,end:Date.now()+12e6,show:!1,url:"",solutionpdf:"",starttime:Date.now(),ended:null,inttime:109090,immediate:!0,viewDetails:!1,score:null,status:{Correct:0,Wrong:0,Not_Answered:0}}},beforeRouteEnter(a,s,d){var t;if((t=JSON.parse(localStorage.getItem("duexam_21")))==null?void 0:t.reg){d();return}d({path:"/login"})},methods:{endalert(){this.$swal({icon:"warning",title:"Will be available after the time ends"})},getQuestionLink(){this.loading=!0;let a=null;fetch(N+"?type=examlist&id="+this.$route.params.id).then(s=>s.json()).then(s=>{if(new Date(s.exam.start_time).getTime()>Date.now()){this.$router.push("/");return}this.url="https://script.google.com/macros/s/AKfycbzlzm0WDz0ebVyoyCOL6BZt346BWMdgYWuQNjUW7AoPlmsqEse3dhIHdkwvtK8Rmp3Ygg/exec?sheet="+s.exam.exam.substr(39,44),this.ended=new Date(s.exam.end_time).getTime(),this.timelimit=s.exam.timelimit*6e4,this.immediate=!s.exam.special,this.solutionpdf=s.exam.solve_sheet,a=s.exam.time;let d=JSON.parse(localStorage.getItem("duexam_21")).reg;fetch(this.url+"&type=check&phone="+d).then(m=>m.json()).then(m=>{m.message=="exists"||this.ended<Date.now()?(this.result=m.result?m.result:["","Time's up"],fetch(this.url+"&type=question").then(t=>t.json()).then(t=>{this.solution=t;let i=a;this.inttime=i*6e4,this.end=i*6e4}),this.loading=!1):(this.unknown=!0,fetch(this.url+"&type=question").then(t=>t.json()).then(t=>{let i=localStorage.getItem(`attempt${this.$route.params.id}`);i?localStorage.setItem(`attempt${this.$route.params.id}`,Number(i)+1):localStorage.setItem(`attempt${this.$route.params.id}`,1),this.questions=t.map(p=>y(_({},p),{selected:""}));let g=a;this.inttime=g*6e4,this.end=g*6e4,this.loading=!1,this.showRemaining(this.end+Date.now()),this.autoSubmit()}))})})},startRetake(){this.retake=!0,this.showRemaining(Date.now()+this.end)},retakeResult(){let a=this.solution.reduce((s,d)=>(d.correct==d.selected?s+=1:d.selected&&(s-=.25),s),0);this.$swal({icon:"success",title:"Success",text:`You Scored ${a}`}).then(()=>{this.retake=!1,this.show=!1,this.inttime=this.solution.length,this.solution=this.solution.map(s=>y(_({},s),{selected:""}))})},submitAns(){let a=Date.now()-this.starttime;if(this.timelimit<a){this.eload=!0;let s=this.questions.reduce((i,g)=>(g.correct==g.selected?(i+=1,this.status.Correct+=1):g.selected?(i-=.25,this.status.Wrong+=1):this.status.Not_Answered+=1,i),0);clearTimeout(this.timing);let{reg:d,name:m,college:t}=JSON.parse(localStorage.getItem("duexam_21"));fetch(this.url,{method:"POST",mode:"no-cors",cache:"no-cache",redirect:"follow",body:JSON.stringify({ttrx:d,name:m,attempt:localStorage.getItem(`attempt${this.$route.params.id}`)||1,score:s,college:t,duration:a})}).then(()=>{clearTimeout(this.timing),this.$swal({icon:"success",title:"Success",text:`You Scored ${s}`}).then(()=>{localStorage.removeItem(`attempt${this.$route.params.id}`),this.viewDetails=!0,this.show=!1,this.score=s,window.scroll(0,0)})})}else this.$swal({icon:"warning",title:"Wait",text:`You can't submit before ${this.timelimit/6e4} minutes`})},gotoLeaderboard(){this.$router.replace(`/ranking/${this.$route.params.id}`)},autoSubmit(){this.timing=setTimeout(()=>{this.show=!1,this.submitAns()},this.inttime)},showRemaining(a){this.show=!0;const s=setInterval(()=>{const d=a-Date.now();if(d<0){clearInterval(s);return}const m=Math.floor(d/this._days),t=Math.floor(d%this._days/this._hours),i=Math.floor(d%this._hours/this._minutes),g=Math.floor(d%this._minutes/this._seconds);this.second=g<10?"0"+g:g,this.minute=i<10?"0"+i:i,this.hours=t<10?"0"+t:t,this.days=m<10?"0"+m:m},1e3)}},created(){this.getQuestionLink(),window.scrollTo(0,0)},computed:y(_({},A(["user"])),{_seconds:()=>1e3,_minutes(){return this._seconds*60},_hours(){return this._minutes*60},_days(){return this._hours*24},currentTime:()=>R.state.currentTime})},f=a=>(B("data-v-36fb1796"),a=a(),Y(),a),O={key:0,class:"py-5 mx-auto mt-5 rounded bg-gray-50 md:w-2/3"},z={class:"py-3 text-center"},J={key:0,class:"my-4 text-2xl font-bold text-gray-900 ma-auto"},Q={key:0},K={key:1,class:"text-center text-gray-900"},F={class:"py-5"},P=k(" View Solution "),G=["textContent"],U={key:0,class:"my-5 text-center"},Z={key:1,class:"text-center"},X=["textContent"],$={key:2,class:"my-4 font-semibold text-center text-gray-900"},q={key:1,class:"pb-10"},ee={class:"py-4 text-center"},te={class:"text-2xl font-bold text-gray-900 dark:text-white"},se=f(()=>r("p",{class:"text-center dark:text-white"}," \u09AA\u09CD\u09B0\u09A4\u09BF\u099F\u09BF \u09AA\u09CD\u09B0\u09B6\u09CD\u09A8\u09C7\u09B0 \u0995\u09CD\u09B7\u09C7\u09A4\u09CD\u09B0\u09C7 \u09A4\u09C1\u09AE\u09BF \u0995\u09C7\u09AC\u09B2 \u098F\u0995\u09AC\u09BE\u09B0 \u0989\u09A4\u09CD\u09A4\u09B0 \u0995\u09B0\u09BE\u09B0 \u09B8\u09C1\u09AF\u09CB\u0997 \u09AA\u09BE\u09AC\u09C7\u0964 \u098F\u0995\u09AC\u09BE\u09B0 \u0989\u09A4\u09CD\u09A4\u09B0 \u09B8\u09BF\u09B2\u09C7\u0995\u09CD\u099F \u0995\u09B0\u09BE\u09B0 \u09AA\u09B0 \u09A4\u09BE \u09AA\u09B0\u09BF\u09AC\u09B0\u09CD\u09A4\u09A8 \u0995\u09B0\u09BE\u09B0 \u0995\u09CB\u09A8\u09CB \u09B8\u09C1\u09AF\u09CB\u0997 \u09A8\u09BE\u0987\u0964 ",-1)),re={class:"mx-2 text-gray-900 md:w-2/3 md:mx-auto"},oe=["innerHTML"],ne={class:"mt-3"},ie=["innerHTML","onClick"],le=["innerHTML","onClick"],de=["innerHTML","onClick"],ae=["innerHTML","onClick"],ce={class:"mb-10 text-center"},ue={key:2,class:"pb-10"},he={class:"py-4 text-center"},me={class:"text-2xl font-bold text-gray-900 dark:text-white"},ge=f(()=>r("p",{class:"text-center dark:text-white"}," \u09AA\u09CD\u09B0\u09A4\u09BF\u099F\u09BF \u09AA\u09CD\u09B0\u09B6\u09CD\u09A8\u09C7\u09B0 \u0995\u09CD\u09B7\u09C7\u09A4\u09CD\u09B0\u09C7 \u09A4\u09C1\u09AE\u09BF \u0995\u09C7\u09AC\u09B2 \u098F\u0995\u09AC\u09BE\u09B0 \u0989\u09A4\u09CD\u09A4\u09B0 \u0995\u09B0\u09BE\u09B0 \u09B8\u09C1\u09AF\u09CB\u0997 \u09AA\u09BE\u09AC\u09C7\u0964 \u098F\u0995\u09AC\u09BE\u09B0 \u0989\u09A4\u09CD\u09A4\u09B0 \u09B8\u09BF\u09B2\u09C7\u0995\u09CD\u099F \u0995\u09B0\u09BE\u09B0 \u09AA\u09B0 \u09A4\u09BE \u09AA\u09B0\u09BF\u09AC\u09B0\u09CD\u09A4\u09A8 \u0995\u09B0\u09BE\u09B0 \u0995\u09CB\u09A8\u09CB \u09B8\u09C1\u09AF\u09CB\u0997 \u09A8\u09BE\u0987\u0964 ",-1)),be={key:0,class:"mx-2 md:w-2/3 md:mx-auto"},_e=["innerHTML"],ye={class:"mt-3"},xe=["innerHTML","onClick"],ke=["innerHTML","onClick"],pe=["innerHTML","onClick"],ve=["innerHTML","onClick"],fe={key:0,class:"my-2 text-center"},we={key:1,class:"mb-10 text-center"},Te=["disabled"],Le={key:1,class:"mx-2 md:w-2/3 md:mx-auto"},Ce={class:"flex flex-wrap justify-center"},Me={class:"w-full p-3 md:w-1/2"},He={class:"text-center"},Se={class:"text-lg font-semibold text-gray-900 dark:text-white"},De={class:"text-gray-600 dark:text-white"},Ie={class:"flex flex-wrap items-center justify-center gap-3 p-3 rounded bg-gray-50"},Ne={class:"text-gray-900"},Ae={class:"text-lg font-bold"},Re={class:"text-lg font-bold"},je={class:"text-lg font-bold"},We={class:"text-lg font-bold"},Be=["innerHTML"],Ye={class:"mt-3"},Ve=["innerHTML"],Ee=["innerHTML"],Oe=["innerHTML"],ze=["innerHTML"],Je={key:0,class:"my-2 poppins"},Qe=["innerHTML"],Ke={class:"material-icons"},Fe={key:0,class:"my-2 text-center"},Pe={key:1,class:"mb-10 text-center"},Ge=["disabled"],Ue={key:3,class:"white--text fixed__timer"},Ze={class:"text-white bg-blue-500 border border-white shadow"},Xe={key:1,class:"flex items-center justify-center w-full h-screen"},$e=f(()=>r("div",{class:"flex items-center justify-center -mt-24 space-x-1 text-sm text-gray-700"},[r("svg",{fill:"none",class:"w-10 h-10 animate-spin",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},[r("path",{"clip-rule":"evenodd",d:"M15.165 8.53a.5.5 0 01-.404.58A7 7 0 1023 16a.5.5 0 011 0 8 8 0 11-9.416-7.874.5.5 0 01.58.404z",fill:"currentColor","fill-rule":"evenodd"})]),r("div",{class:"text-lg dark:text-white"},"Loading ...")],-1)),qe=[$e];function et(a,s,d,m,t,i){const g=L("router-link"),p=L("pie-chart");return t.loading?(o(),n("div",Xe,qe)):(o(),n("div",{key:0,onContextmenu:e=>!1},[!t.unknown&&!t.loading&&!t.retake?(o(),n("div",O,[r("div",z,[t.result[1]?(o(),n("h2",J,[t.result[1]!=="Time's up"?(o(),n("span",Q,"You Scored:")):l("",!0),k(" "+u(t.result[1]),1)])):l("",!0),t.result[1]=="Time's up"?(o(),n("p",K,"But you can still give the exam. Click 'Test yourself again'.")):l("",!0),r("div",F,[this.ended<i.currentTime||t.immediate?(o(),j(g,{key:0,to:`/solution/${this.$route.params.id}`,class:"my-2 btn btn-primary"},{default:W(()=>[P]),_:1},8,["to"])):(o(),n("button",{key:1,class:"btn btn-primary",onClick:s[0]||(s[0]=(...e)=>i.endalert&&i.endalert(...e)),textContent:u("View Solution")},null,8,G))])]),!t.retake&&t.solution.length>0?(o(),n("div",U,[C(g,{to:`/ranking/${this.$route.params.id}`,class:"mx-auto my-2 btn btn-primary",text:"View Your Rank"},null,8,["to"])])):l("",!0),!t.retake&&t.solution.length>0?(o(),n("div",Z,[r("button",{class:"mx-auto btn btn-primary",onClick:s[1]||(s[1]=(...e)=>i.startRetake&&i.startRetake(...e)),textContent:u("Test Yourself Again")},null,8,X)])):l("",!0),!t.retake&&t.solution.length>0?(o(),n("div",$," Retake exam score will not be recorded ")):l("",!0)])):l("",!0),t.retake?(o(),n("div",q,[r("div",ee,[r("h1",te," Retake Exam - "+u(this.$route.params.id),1),se]),r("div",re,[(o(!0),n(x,null,v(t.solution,(e,c)=>(o(),n("div",{key:c,class:h(["p-5 mx-auto my-3 text-lg text-gray-900 border border-gray-300 rounded-md shadow-lg bg-gray-50 kalpurush",{"stop-events":t.solution[c].selected}])},[r("div",{class:"inline-flex",innerHTML:`<span class='mr-2'>${c+1})</span>`+e.question},null,8,oe),r("div",ne,[e.a?(o(),n("div",{key:0,innerHTML:e.a,onClick:b=>t.solution[c].selected=e.a,class:h(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold text-black  my-3 p-3 rounded  ${e.a==e.selected?"border-2 border-green-500 bg-green-300 dark:bg-indigo-400 dark:border-indigo-500 ":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,ie)):l("",!0),e.b?(o(),n("div",{key:1,innerHTML:e.b,onClick:b=>t.solution[c].selected=e.b,class:h(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.b==e.selected?"border-2 border-green-500 bg-green-300 dark:bg-indigo-400 dark:border-indigo-500 ":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,le)):l("",!0),e.c?(o(),n("div",{key:2,innerHTML:e.c,onClick:b=>t.solution[c].selected=e.c,class:h(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.c==e.selected?"border-2 border-green-500 bg-green-300 dark:bg-indigo-400 dark:border-indigo-500 ":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,de)):l("",!0),e.d?(o(),n("div",{key:3,innerHTML:e.d,onClick:b=>t.solution[c].selected=e.d,class:h(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.d==e.selected?"border-2 border-green-500 bg-green-300 dark:bg-indigo-400 dark:border-indigo-500 ":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,ae)):l("",!0)])],2))),128)),r("div",ce,[r("button",{onClick:s[2]||(s[2]=(...e)=>i.retakeResult&&i.retakeResult(...e)),class:"px-4 py-3 mx-auto font-semibold text-white rounded shadow outline-none hover:shadow-lg bg-gradient-to-t from-green-500 to-green-400"}," Submit ")])])])):l("",!0),t.questions.length>0?(o(),n("div",ue,[r("div",he,[r("h1",me," Exam - "+u(this.$route.params.id),1),ge]),t.viewDetails?(o(),n("div",Le,[r("div",null,[r("div",Ce,[r("div",Me,[r("div",He,[r("h3",Se," You Scored: "+u(t.score),1),r("p",De," out of "+u(t.questions.length),1)])])])]),r("div",null,[r("div",Ie,[r("div",null,[C(p,{data:t.status},null,8,["data"])]),r("div",Ne,[r("p",Ae," Total: "+u(t.questions.length),1),r("p",Re," Correct: "+u(t.status.Correct),1),r("p",je," Incorrect: "+u(t.status.Wrong),1),r("p",We," Not Answered: "+u(t.status.Not_Answered),1)])])]),(o(!0),n(x,null,v(t.questions,(e,c)=>(o(),n("div",{key:c,class:"p-5 mx-auto my-3 text-lg border border-gray-300 rounded-md shadow-lg bg-gray-50 dark:bg-black dark:text-white kalpurush"},[r("div",{class:"inline-flex mb-2 text-lg font-semibold",innerHTML:`<span class='mr-2'>${c+1})</span>`+e.question},null,8,Be),r("div",Ye,[e.a?(o(),n("div",{key:0,innerHTML:e.a,class:h(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold text-black  my-3 p-3 rounded   ${e.a==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"} ${e.a==e.correct?"border-2 border-green-500 bg-green-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,Ve)):l("",!0),e.b?(o(),n("div",{key:1,innerHTML:e.b,class:h(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.b==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"} ${e.b==e.correct?"border-2 border-green-500 bg-green-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,Ee)):l("",!0),e.c?(o(),n("div",{key:2,innerHTML:e.c,class:h(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.c==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"} ${e.c==e.correct?"border-2 border-green-500 bg-green-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,Oe)):l("",!0),e.d?(o(),n("div",{key:3,innerHTML:e.d,class:h(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded   ${e.d==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"} ${e.d==e.correct?"border-2 border-green-500 bg-green-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,ze)):l("",!0)]),e.explain?(o(),n("h2",Je,"Explain:")):l("",!0),e.explain?(o(),n("div",{key:1,class:"p-3 my-3 bg-gray-200 border border-green-500 rounded dark:bg-gray-600",innerHTML:e.explain},null,8,Qe)):l("",!0),r("div",{class:h(["flex gap-2 my-2 text-xl font-semibold",{"text-red-500":e.correct!=e.selected,"text-green-500":e.correct==e.selected}])},[r("span",Ke,u(e.correct==e.selected?"done":"close"),1),e.selected?(o(),n(x,{key:0},[k(u(e.correct==e.selected?"Correct":"Wrong"),1)],64)):l("",!0),k(" "+u(e.selected?"":"Not answered"),1)],2)]))),128)),t.viewDetails?(o(),n("div",Fe,[r("button",{onClick:s[5]||(s[5]=(...e)=>i.gotoLeaderboard&&i.gotoLeaderboard(...e)),class:"btn btn-large btn-primary"}," Leaderboard ")])):l("",!0),t.viewDetails?l("",!0):(o(),n("div",Pe,[r("button",{onClick:s[6]||(s[6]=(...e)=>i.submitAns&&i.submitAns(...e)),disabled:t.eload,class:"px-4 py-3 mx-auto font-semibold text-white rounded shadow outline-none hover:shadow-lg bg-gradient-to-t from-green-500 to-green-400"},u(t.eload?"Loading...":"Submit"),9,Ge)]))])):(o(),n("div",be,[(o(!0),n(x,null,v(t.questions,(e,c)=>(o(),n("div",{key:c,class:h(["p-5 mx-auto my-3 text-lg border border-gray-300 rounded-md shadow-lg bg-gray-50 kalpurush",{"stop-events":t.questions[c].selected}])},[r("div",{class:"inline-flex mb-2 text-lg font-semibold text-gray-900",innerHTML:`<span class='mr-2'>${c+1})</span>`+e.question},null,8,_e),r("div",ye,[e.a?(o(),n("div",{key:0,innerHTML:e.a,onClick:b=>t.questions[c].selected=e.a,class:h(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.a==e.selected?"border-2 border-green-500 bg-green-300  ":" bg-gray-200 "}`)},null,10,xe)):l("",!0),e.b?(o(),n("div",{key:1,innerHTML:e.b,onClick:b=>t.questions[c].selected=e.b,class:h(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.b==e.selected?"border-2 border-green-500 bg-green-300  ":" bg-gray-200 "}`)},null,10,ke)):l("",!0),e.c?(o(),n("div",{key:2,innerHTML:e.c,onClick:b=>t.questions[c].selected=e.c,class:h(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.c==e.selected?"border-2 border-green-500 bg-green-300  ":" bg-gray-200 "}`)},null,10,pe)):l("",!0),e.d?(o(),n("div",{key:3,innerHTML:e.d,onClick:b=>t.questions[c].selected=e.d,class:h(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.d==e.selected?"border-2 border-green-500 bg-green-300  ":" bg-gray-200 "}`)},null,10,ve)):l("",!0)])],2))),128)),t.viewDetails?(o(),n("div",fe,[r("button",{onClick:s[3]||(s[3]=(...e)=>i.gotoLeaderboard&&i.gotoLeaderboard(...e)),class:"btn btn-large btn-primary"}," Leaderboard ")])):l("",!0),t.viewDetails?l("",!0):(o(),n("div",we,[r("button",{onClick:s[4]||(s[4]=(...e)=>i.submitAns&&i.submitAns(...e)),disabled:t.eload,class:"px-4 py-3 mx-auto font-semibold text-white rounded shadow outline-none hover:shadow-lg bg-gradient-to-t from-green-500 to-green-400"},u(t.eload?"Loading...":"Submit"),9,Te)]))]))])):l("",!0),t.show?(o(),n("div",Ue,[r("div",Ze,u(t.minute)+" : "+u(t.second),1)])):l("",!0)],32))}var ot=V(E,[["render",et],["__scopeId","data-v-36fb1796"]]);export{ot as default};
