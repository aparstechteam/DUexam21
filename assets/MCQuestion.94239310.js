var M=Object.defineProperty,H=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var T=(a,s,l)=>s in a?M(a,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[s]=l,_=(a,s)=>{for(var l in s||(s={}))D.call(s,l)&&T(a,l,s[l]);if(w)for(var l of w(s))I.call(s,l)&&T(a,l,s[l]);return a},y=(a,s)=>H(a,S(s));import{E as N,J as A,K as R,v as L,j as o,k as n,l as r,y as d,I as k,m as u,H as j,C as W,B as C,F as x,x as f,L as B,M as V,G as h}from"./index.4685ba00.js";import{_ as Y}from"./plugin-vue_export-helper.21dcd24c.js";const E={data(){return{timing:null,solutionv:!1,retake:!1,questions:[],solution:[],result:[],unknown:!1,loading:!0,eload:!1,minute:0,second:0,end:Date.now()+12e6,show:!1,url:"",solutionpdf:"",starttime:Date.now(),ended:null,inttime:109090,immediate:!0,viewDetails:!1,score:null,status:{Correct:0,Wrong:0,Not_Answered:0}}},beforeRouteEnter(a,s,l){var t;if((t=JSON.parse(localStorage.getItem("duexam_21")))==null?void 0:t.reg){l();return}l({path:"/login"})},methods:{endalert(){this.$swal({icon:"warning",title:"Will be available after the time ends"})},getQuestionLink(){this.loading=!0;let a=null;fetch(N+"?type=examlist&id="+this.$route.params.id).then(s=>s.json()).then(s=>{if(new Date(s.exam.start_time).getTime()>Date.now()){this.$router.push("/");return}this.url="https://script.google.com/macros/s/AKfycbzlzm0WDz0ebVyoyCOL6BZt346BWMdgYWuQNjUW7AoPlmsqEse3dhIHdkwvtK8Rmp3Ygg/exec?sheet="+s.exam.exam.substr(39,44),this.ended=new Date(s.exam.end_time).getTime(),this.timelimit=s.exam.timelimit*6e4,this.immediate=!s.exam.special,this.solutionpdf=s.exam.solve_sheet,a=s.exam.time;let l=JSON.parse(localStorage.getItem("duexam_21")).reg;fetch(this.url+"&type=check&phone="+l).then(g=>g.json()).then(g=>{g.message=="exists"||this.ended<Date.now()?(this.result=g.result?g.result:["","Time's up"],fetch(this.url+"&type=question").then(t=>t.json()).then(t=>{this.solution=t;let i=a;this.inttime=i*6e4,this.end=i*6e4}),this.loading=!1):(this.unknown=!0,fetch(this.url+"&type=question").then(t=>t.json()).then(t=>{let i=localStorage.getItem(`attempt${this.$route.params.id}`);i?localStorage.setItem(`attempt${this.$route.params.id}`,Number(i)+1):localStorage.setItem(`attempt${this.$route.params.id}`,1),this.questions=t.map(v=>y(_({},v),{selected:""}));let m=a;this.inttime=m*6e4,this.end=m*6e4,this.loading=!1,this.showRemaining(this.end+Date.now()),this.autoSubmit()}))})})},startRetake(){this.retake=!0,this.showRemaining(Date.now()+this.end)},retakeResult(){let a=this.solution.reduce((s,l)=>(l.correct==l.selected?(s+=1,this.status.Correct+=1):l.selected?(s-=.25,this.status.Wrong+=1):this.status.Not_Answered+=1,s),0);this.$swal({icon:"success",title:"Success",text:`You Scored ${a}`}).then(()=>{this.retake=!1,this.show=!1,this.questions=this.solution,this.viewDetails=!this.viewDetails,this.inttime=this.solution.length,this.score=a,this.solution=this.solution.map(s=>y(_({},s),{selected:""})),window.scroll(0,0)})},submitAns(){let a=Date.now()-this.starttime;this.eload=!0;let s=this.questions.reduce((i,m)=>(m.correct==m.selected?(i+=1,this.status.Correct+=1):m.selected?(i-=.25,this.status.Wrong+=1):this.status.Not_Answered+=1,i),0);clearTimeout(this.timing);let{reg:l,name:g,college:t}=JSON.parse(localStorage.getItem("duexam_21"));fetch(this.url,{method:"POST",mode:"no-cors",cache:"no-cache",redirect:"follow",body:JSON.stringify({ttrx:l,name:g,attempt:localStorage.getItem(`attempt${this.$route.params.id}`)||1,score:s,college:t,duration:a})}).then(()=>{clearTimeout(this.timing),this.$swal({icon:"success",title:"Success",text:`You Scored ${s}`}).then(()=>{localStorage.removeItem(`attempt${this.$route.params.id}`),this.viewDetails=!0,this.show=!1,this.score=s,window.scroll(0,0)})})},gotoLeaderboard(){this.$router.replace(`/ranking/${this.$route.params.id}`)},autoSubmit(){this.timing=setTimeout(()=>{this.show=!1,this.submitAns()},this.inttime)},showRemaining(a){this.show=!0;const s=setInterval(()=>{const l=a-Date.now();if(l<0){clearInterval(s);return}const g=Math.floor(l/this._days),t=Math.floor(l%this._days/this._hours),i=Math.floor(l%this._hours/this._minutes),m=Math.floor(l%this._minutes/this._seconds);this.second=m<10?"0"+m:m,this.minute=i<10?"0"+i:i,this.hours=t<10?"0"+t:t,this.days=g<10?"0"+g:g},1e3)}},created(){this.getQuestionLink(),window.scrollTo(0,0)},computed:y(_({},A(["user"])),{_seconds:()=>1e3,_minutes(){return this._seconds*60},_hours(){return this._minutes*60},_days(){return this._hours*24},currentTime:()=>R.state.currentTime})},p=a=>(B("data-v-2264c778"),a=a(),V(),a),O={key:0,class:"py-5 mx-auto mt-5 rounded bg-gray-50 md:w-2/3"},z={class:"py-3 text-center"},J={key:0,class:"my-4 text-2xl font-bold text-gray-900 ma-auto"},Q={key:0},K={key:1,class:"text-center text-gray-900"},F={class:"py-5"},P=k(" View Solution "),G=["textContent"],U={key:0,class:"my-5 text-center"},Z={key:1,class:"text-center"},X=["textContent"],$={key:2,class:"text-center"},q=p(()=>r("button",{class:"btn loading btn-circle"},null,-1)),ee=[q],te={key:3,class:"my-4 font-semibold text-center text-gray-900"},se={key:1,class:"pb-10"},re={class:"py-4 text-center"},oe={class:"text-2xl font-bold text-gray-900 dark:text-white"},ne=p(()=>r("p",{class:"text-center dark:text-white"}," \u09AA\u09CD\u09B0\u09A4\u09BF\u099F\u09BF \u09AA\u09CD\u09B0\u09B6\u09CD\u09A8\u09C7\u09B0 \u0995\u09CD\u09B7\u09C7\u09A4\u09CD\u09B0\u09C7 \u09A4\u09C1\u09AE\u09BF \u0995\u09C7\u09AC\u09B2 \u098F\u0995\u09AC\u09BE\u09B0 \u0989\u09A4\u09CD\u09A4\u09B0 \u0995\u09B0\u09BE\u09B0 \u09B8\u09C1\u09AF\u09CB\u0997 \u09AA\u09BE\u09AC\u09C7\u0964 \u098F\u0995\u09AC\u09BE\u09B0 \u0989\u09A4\u09CD\u09A4\u09B0 \u09B8\u09BF\u09B2\u09C7\u0995\u09CD\u099F \u0995\u09B0\u09BE\u09B0 \u09AA\u09B0 \u09A4\u09BE \u09AA\u09B0\u09BF\u09AC\u09B0\u09CD\u09A4\u09A8 \u0995\u09B0\u09BE\u09B0 \u0995\u09CB\u09A8\u09CB \u09B8\u09C1\u09AF\u09CB\u0997 \u09A8\u09BE\u0987\u0964 ",-1)),ie={class:"mx-2 text-gray-900 md:w-2/3 md:mx-auto"},le=["innerHTML"],de={class:"mt-3"},ae=["innerHTML","onClick"],ce=["innerHTML","onClick"],ue=["innerHTML","onClick"],he=["innerHTML","onClick"],ge={class:"mb-10 text-center"},me={key:2,class:"pb-10"},be={class:"py-4 text-center"},_e={class:"text-2xl font-bold text-gray-900 dark:text-white"},ye=p(()=>r("p",{class:"text-center dark:text-white"}," \u09AA\u09CD\u09B0\u09A4\u09BF\u099F\u09BF \u09AA\u09CD\u09B0\u09B6\u09CD\u09A8\u09C7\u09B0 \u0995\u09CD\u09B7\u09C7\u09A4\u09CD\u09B0\u09C7 \u09A4\u09C1\u09AE\u09BF \u0995\u09C7\u09AC\u09B2 \u098F\u0995\u09AC\u09BE\u09B0 \u0989\u09A4\u09CD\u09A4\u09B0 \u0995\u09B0\u09BE\u09B0 \u09B8\u09C1\u09AF\u09CB\u0997 \u09AA\u09BE\u09AC\u09C7\u0964 \u098F\u0995\u09AC\u09BE\u09B0 \u0989\u09A4\u09CD\u09A4\u09B0 \u09B8\u09BF\u09B2\u09C7\u0995\u09CD\u099F \u0995\u09B0\u09BE\u09B0 \u09AA\u09B0 \u09A4\u09BE \u09AA\u09B0\u09BF\u09AC\u09B0\u09CD\u09A4\u09A8 \u0995\u09B0\u09BE\u09B0 \u0995\u09CB\u09A8\u09CB \u09B8\u09C1\u09AF\u09CB\u0997 \u09A8\u09BE\u0987\u0964 ",-1)),xe={key:0,class:"mx-2 md:w-2/3 md:mx-auto"},ke=["innerHTML"],pe={class:"mt-3"},ve=["innerHTML","onClick"],fe=["innerHTML","onClick"],we=["innerHTML","onClick"],Te=["innerHTML","onClick"],Le={key:0,class:"my-2 text-center"},Ce={key:1,class:"mb-10 text-center"},Me=["disabled"],He={key:1,class:"mx-2 md:w-2/3 md:mx-auto"},Se={class:"flex flex-wrap justify-center"},De={class:"w-full p-3 md:w-1/2"},Ie={class:"text-center"},Ne={class:"text-lg font-semibold text-gray-900 dark:text-white"},Ae={class:"text-gray-600 dark:text-white"},Re={class:"flex flex-wrap items-center justify-center gap-3 p-3 rounded bg-gray-50"},je={class:"text-gray-900"},We={class:"text-lg font-bold"},Be={class:"text-lg font-bold"},Ve={class:"text-lg font-bold"},Ye={class:"text-lg font-bold"},Ee=["innerHTML"],Oe={class:"mt-3"},ze=["innerHTML"],Je=["innerHTML"],Qe=["innerHTML"],Ke=["innerHTML"],Fe={key:0,class:"my-2 poppins"},Pe=["innerHTML"],Ge={class:"material-icons"},Ue={key:0,class:"my-2 text-center"},Ze={key:1,class:"mb-10 text-center"},Xe=["disabled"],$e={key:3,class:"white--text fixed__timer"},qe={class:"text-white bg-blue-500 border border-white shadow"},et={key:1,class:"flex items-center justify-center w-full h-screen"},tt=p(()=>r("div",{class:"flex items-center justify-center -mt-24 space-x-1 text-sm text-gray-700"},[r("svg",{fill:"none",class:"w-10 h-10 animate-spin",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},[r("path",{"clip-rule":"evenodd",d:"M15.165 8.53a.5.5 0 01-.404.58A7 7 0 1023 16a.5.5 0 011 0 8 8 0 11-9.416-7.874.5.5 0 01.58.404z",fill:"currentColor","fill-rule":"evenodd"})]),r("div",{class:"text-lg dark:text-white"},"Loading ...")],-1)),st=[tt];function rt(a,s,l,g,t,i){const m=L("router-link"),v=L("pie-chart");return t.loading?(o(),n("div",et,st)):(o(),n("div",{key:0,onContextmenu:e=>!1},[!t.unknown&&!t.loading&&!t.retake?(o(),n("div",O,[r("div",z,[t.result[1]?(o(),n("h2",J,[t.result[1]!=="Time's up"?(o(),n("span",Q,"You Scored:")):d("",!0),k(" "+u(t.result[1]),1)])):d("",!0),t.result[1]=="Time's up"?(o(),n("p",K,"But you can still give the exam. Click 'Test yourself again'.")):d("",!0),r("div",F,[this.ended<i.currentTime||t.immediate?(o(),j(m,{key:0,to:`/solution/${this.$route.params.id}`,class:"my-2 btn btn-primary"},{default:W(()=>[P]),_:1},8,["to"])):(o(),n("button",{key:1,class:"btn btn-primary",onClick:s[0]||(s[0]=(...e)=>i.endalert&&i.endalert(...e)),textContent:u("View Solution")},null,8,G))])]),!t.retake&&t.solution.length>0?(o(),n("div",U,[C(m,{to:`/ranking/${this.$route.params.id}`,class:"mx-auto my-2 btn btn-primary",text:"View Your Rank"},null,8,["to"])])):d("",!0),!t.retake&&t.solution.length>0?(o(),n("div",Z,[r("button",{class:"mx-auto btn btn-primary",onClick:s[1]||(s[1]=(...e)=>i.startRetake&&i.startRetake(...e)),textContent:u("Test Yourself Again")},null,8,X)])):(o(),n("div",$,ee)),!t.retake&&t.solution.length>0?(o(),n("div",te," Retake exam score will not be recorded ")):d("",!0)])):d("",!0),t.retake?(o(),n("div",se,[r("div",re,[r("h1",oe," Retake Exam - "+u(this.$route.params.id),1),ne]),r("div",ie,[(o(!0),n(x,null,f(t.solution,(e,c)=>(o(),n("div",{key:c,class:h(["p-5 mx-auto my-3 text-lg text-gray-900 border border-gray-300 rounded-md shadow-lg bg-gray-50 kalpurush",{"stop-events":t.solution[c].selected}])},[r("div",{class:"inline-flex",innerHTML:`<span class='mr-2'>${c+1})</span>`+e.question},null,8,le),r("div",de,[e.a?(o(),n("div",{key:0,innerHTML:e.a,onClick:b=>t.solution[c].selected=e.a,class:h(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold text-black  my-3 p-3 rounded  ${e.a==e.selected?"border-2 border-green-500 bg-green-300 dark:bg-indigo-400 dark:border-indigo-500 ":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,ae)):d("",!0),e.b?(o(),n("div",{key:1,innerHTML:e.b,onClick:b=>t.solution[c].selected=e.b,class:h(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.b==e.selected?"border-2 border-green-500 bg-green-300 dark:bg-indigo-400 dark:border-indigo-500 ":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,ce)):d("",!0),e.c?(o(),n("div",{key:2,innerHTML:e.c,onClick:b=>t.solution[c].selected=e.c,class:h(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.c==e.selected?"border-2 border-green-500 bg-green-300 dark:bg-indigo-400 dark:border-indigo-500 ":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,ue)):d("",!0),e.d?(o(),n("div",{key:3,innerHTML:e.d,onClick:b=>t.solution[c].selected=e.d,class:h(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.d==e.selected?"border-2 border-green-500 bg-green-300 dark:bg-indigo-400 dark:border-indigo-500 ":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,he)):d("",!0)])],2))),128)),r("div",ge,[r("button",{onClick:s[2]||(s[2]=(...e)=>i.retakeResult&&i.retakeResult(...e)),class:"px-4 py-3 mx-auto font-semibold text-white rounded shadow outline-none hover:shadow-lg bg-gradient-to-t from-green-500 to-green-400"}," Submit ")])])])):d("",!0),t.questions.length>0?(o(),n("div",me,[r("div",be,[r("h1",_e," Exam - "+u(this.$route.params.id),1),ye]),t.viewDetails?(o(),n("div",He,[r("div",null,[r("div",Se,[r("div",De,[r("div",Ie,[r("h3",Ne," You Scored: "+u(t.score),1),r("p",Ae," out of "+u(t.questions.length),1)])])])]),r("div",null,[r("div",Re,[r("div",null,[C(v,{data:t.status},null,8,["data"])]),r("div",je,[r("p",We," Total: "+u(t.questions.length),1),r("p",Be," Correct: "+u(t.status.Correct),1),r("p",Ve," Incorrect: "+u(t.status.Wrong),1),r("p",Ye," Not Answered: "+u(t.status.Not_Answered),1)])])]),(o(!0),n(x,null,f(t.questions,(e,c)=>(o(),n("div",{key:c,class:"p-5 mx-auto my-3 text-lg border border-gray-300 rounded-md shadow-lg bg-gray-50 dark:bg-black dark:text-white kalpurush"},[r("div",{class:"inline-flex mb-2 text-lg font-semibold",innerHTML:`<span class='mr-2'>${c+1})</span>`+e.question},null,8,Ee),r("div",Oe,[e.a?(o(),n("div",{key:0,innerHTML:e.a,class:h(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold text-black  my-3 p-3 rounded   ${e.a==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"} ${e.a==e.correct?"border-2 border-green-500 bg-green-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,ze)):d("",!0),e.b?(o(),n("div",{key:1,innerHTML:e.b,class:h(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.b==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"} ${e.b==e.correct?"border-2 border-green-500 bg-green-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,Je)):d("",!0),e.c?(o(),n("div",{key:2,innerHTML:e.c,class:h(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.c==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"} ${e.c==e.correct?"border-2 border-green-500 bg-green-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,Qe)):d("",!0),e.d?(o(),n("div",{key:3,innerHTML:e.d,class:h(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded   ${e.d==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"} ${e.d==e.correct?"border-2 border-green-500 bg-green-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,Ke)):d("",!0)]),e.explain?(o(),n("h2",Fe,"Explain:")):d("",!0),e.explain?(o(),n("div",{key:1,class:"p-3 my-3 bg-gray-200 border border-green-500 rounded dark:bg-gray-600",innerHTML:e.explain},null,8,Pe)):d("",!0),r("div",{class:h(["flex gap-2 my-2 text-xl font-semibold",{"text-red-500":e.correct!=e.selected,"text-green-500":e.correct==e.selected}])},[r("span",Ge,u(e.correct==e.selected?"done":"close"),1),e.selected?(o(),n(x,{key:0},[k(u(e.correct==e.selected?"Correct":"Wrong"),1)],64)):d("",!0),k(" "+u(e.selected?"":"Not answered"),1)],2)]))),128)),t.viewDetails?(o(),n("div",Ue,[r("button",{onClick:s[5]||(s[5]=(...e)=>i.gotoLeaderboard&&i.gotoLeaderboard(...e)),class:"btn btn-large btn-primary"}," Leaderboard ")])):d("",!0),t.viewDetails?d("",!0):(o(),n("div",Ze,[r("button",{onClick:s[6]||(s[6]=(...e)=>i.submitAns&&i.submitAns(...e)),disabled:t.eload,class:"px-4 py-3 mx-auto font-semibold text-white rounded shadow outline-none hover:shadow-lg bg-gradient-to-t from-green-500 to-green-400"},u(t.eload?"Loading...":"Submit"),9,Xe)]))])):(o(),n("div",xe,[(o(!0),n(x,null,f(t.questions,(e,c)=>(o(),n("div",{key:c,class:h(["p-5 mx-auto my-3 text-lg border border-gray-300 rounded-md shadow-lg bg-gray-50 kalpurush",{"stop-events":t.questions[c].selected}])},[r("div",{class:"inline-flex mb-2 text-lg font-semibold text-gray-900",innerHTML:`<span class='mr-2'>${c+1})</span>`+e.question},null,8,ke),r("div",pe,[e.a?(o(),n("div",{key:0,innerHTML:e.a,onClick:b=>t.questions[c].selected=e.a,class:h(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.a==e.selected?"border-2 border-green-500 bg-green-300  ":" bg-gray-200 "}`)},null,10,ve)):d("",!0),e.b?(o(),n("div",{key:1,innerHTML:e.b,onClick:b=>t.questions[c].selected=e.b,class:h(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.b==e.selected?"border-2 border-green-500 bg-green-300  ":" bg-gray-200 "}`)},null,10,fe)):d("",!0),e.c?(o(),n("div",{key:2,innerHTML:e.c,onClick:b=>t.questions[c].selected=e.c,class:h(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.c==e.selected?"border-2 border-green-500 bg-green-300  ":" bg-gray-200 "}`)},null,10,we)):d("",!0),e.d?(o(),n("div",{key:3,innerHTML:e.d,onClick:b=>t.questions[c].selected=e.d,class:h(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.d==e.selected?"border-2 border-green-500 bg-green-300  ":" bg-gray-200 "}`)},null,10,Te)):d("",!0)])],2))),128)),t.viewDetails?(o(),n("div",Le,[r("button",{onClick:s[3]||(s[3]=(...e)=>i.gotoLeaderboard&&i.gotoLeaderboard(...e)),class:"btn btn-large btn-primary"}," Leaderboard ")])):d("",!0),t.viewDetails?d("",!0):(o(),n("div",Ce,[r("button",{onClick:s[4]||(s[4]=(...e)=>i.submitAns&&i.submitAns(...e)),disabled:t.eload,class:"px-4 py-3 mx-auto font-semibold text-white rounded shadow outline-none hover:shadow-lg bg-gradient-to-t from-green-500 to-green-400"},u(t.eload?"Loading...":"Submit"),9,Me)]))]))])):d("",!0),t.show?(o(),n("div",$e,[r("div",qe,u(t.minute)+" : "+u(t.second),1)])):d("",!0)],32))}var lt=Y(E,[["render",rt],["__scopeId","data-v-2264c778"]]);export{lt as default};
