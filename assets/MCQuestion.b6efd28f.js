var T=Object.defineProperty,L=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var w=(a,r,d)=>r in a?T(a,r,{enumerable:!0,configurable:!0,writable:!0,value:d}):a[r]=d,y=(a,r)=>{for(var d in r||(r={}))C.call(r,d)&&w(a,d,r[d]);if(f)for(var d of f(r))H.call(r,d)&&w(a,d,r[d]);return a},_=(a,r)=>L(a,M(r));import{E as S,J as I,K as R,v as D,j as s,k as o,l as n,y as l,I as x,m as g,H as N,C as A,B,F as k,x as p,L as Y,M as j,G as u}from"./index.50008b20.js";import{_ as V}from"./plugin-vue_export-helper.21dcd24c.js";const E={data(){return{timing:null,solutionv:!1,retake:!1,questions:[],solution:[],result:[],unknown:!1,loading:!0,eload:!1,minute:0,second:0,end:this.currentTime+12e6,show:!1,url:"",solutionpdf:"",starttime:this.currentTime,ended:null,inttime:109090,immediate:!0,viewDetails:!1,score:null}},beforeRouteEnter(a,r,d){var t;if((t=JSON.parse(localStorage.getItem("duexam_21")))==null?void 0:t.reg){d();return}d({path:"/login"})},methods:{endalert(){this.$swal({icon:"warning",title:"Will be available after the time ends"})},getQuestionLink(){this.loading=!0;let a=null;fetch(S+"?type=examlist&id="+this.$route.params.id).then(r=>r.json()).then(r=>{if(new Date(r.exam.start_time).getTime()>this.currentTime){this.$router.push("/");return}this.url="https://script.google.com/macros/s/AKfycbzlzm0WDz0ebVyoyCOL6BZt346BWMdgYWuQNjUW7AoPlmsqEse3dhIHdkwvtK8Rmp3Ygg/exec?sheet="+r.exam.exam.substr(39,44),this.ended=new Date(r.exam.end_time).getTime(),this.timelimit=r.exam.timelimit*6e4,this.immediate=!r.exam.special,this.solutionpdf=r.exam.solve_sheet,a=r.exam.time;let d=JSON.parse(localStorage.getItem("duexam_21")).reg;fetch(this.url+"&type=check&phone="+d).then(h=>h.json()).then(h=>{h.message=="exists"||this.ended<this.currentTime?(this.result=h.result?h.result:["","Time's up"],fetch(this.url+"&type=question").then(t=>t.json()).then(t=>{this.solution=t;let i=a;this.inttime=i*6e4,this.end=i*6e4}),this.loading=!1):(this.unknown=!0,fetch(this.url+"&type=question").then(t=>t.json()).then(t=>{let i=localStorage.getItem(`attempt${this.$route.params.id}`);i?localStorage.setItem(`attempt${this.$route.params.id}`,Number(i)+1):localStorage.setItem(`attempt${this.$route.params.id}`,1),this.questions=t.map(e=>_(y({},e),{selected:""}));let m=a;this.inttime=m*6e4,this.end=m*6e4,this.loading=!1,this.showRemaining(this.end+this.currentTime),this.autoSubmit()}))})})},startRetake(){this.retake=!0,this.showRemaining(this.currentTime+this.end)},retakeResult(){let a=this.solution.reduce((r,d)=>(d.correct==d.selected?r+=1:d.selected&&(r-=.25),r),0);this.$swal({icon:"success",title:"Success",text:`You Scored ${a}`}).then(()=>{this.retake=!1,this.show=!1,this.inttime=this.solution.length,this.solution=this.solution.map(r=>_(y({},r),{selected:""}))})},submitAns(){let a=this.currentTime-this.starttime;if(this.timelimit<a){this.eload=!0;let r=this.questions.reduce((i,m)=>(m.correct==m.selected?i+=1:m.selected&&(i-=.25),i),0);clearTimeout(this.timing);let{reg:d,name:h,college:t}=JSON.parse(localStorage.getItem("duexam_21"));fetch(this.url,{method:"POST",mode:"no-cors",cache:"no-cache",redirect:"follow",body:JSON.stringify({ttrx:d,name:h,attempt:localStorage.getItem(`attempt${this.$route.params.id}`)||1,score:r,college:t,duration:a})}).then(()=>{clearTimeout(this.timing),this.$swal({icon:"success",title:"Success",text:`You Scored ${r}`}).then(()=>{localStorage.removeItem(`attempt${this.$route.params.id}`),this.viewDetails=!0,this.show=!1,this.score=r,window.scroll(0,0)})})}else this.$swal({icon:"warning",title:"Wait",text:`You can't submit before ${this.timelimit/6e4} minutes`})},gotoLeaderboard(){this.$router.replace(`/ranking/${this.$route.params.id}`)},autoSubmit(){this.timing=setTimeout(()=>{this.show=!1,this.submitAns()},this.inttime)},showRemaining(a){this.show=!0;const r=setInterval(()=>{const d=a-this.currentTime;if(d<0){clearInterval(r);return}const h=Math.floor(d/this._days),t=Math.floor(d%this._days/this._hours),i=Math.floor(d%this._hours/this._minutes),m=Math.floor(d%this._minutes/this._seconds);this.second=m<10?"0"+m:m,this.minute=i<10?"0"+i:i,this.hours=t<10?"0"+t:t,this.days=h<10?"0"+h:h},1e3)}},created(){this.getQuestionLink(),window.scrollTo(0,0)},computed:_(y({},I(["user"])),{_seconds:()=>1e3,_minutes(){return this._seconds*60},_hours(){return this._minutes*60},_days(){return this._hours*24},currentTime:()=>R.state.currentTime})},v=a=>(Y("data-v-0d5061e9"),a=a(),j(),a),W={key:0,class:"py-5 mx-auto mt-5 rounded bg-gray-50 md:w-2/3"},O={class:"py-3 text-center"},z={key:0,class:"my-4 text-2xl font-bold text-gray-900 ma-auto"},J={key:0},Q={key:1,class:"text-center text-gray-900"},K={class:"py-5"},F=x(" View Solution "),P=["textContent"],$={key:0,class:"my-5 text-center"},G={key:1,class:"text-center"},U=["textContent"],Z={key:2,class:"my-4 font-semibold text-center text-gray-900"},X={key:1,class:"pb-10"},q={class:"py-4 text-center"},ee={class:"text-2xl font-bold text-gray-900 dark:text-white"},te=v(()=>n("p",{class:"text-center dark:text-white"}," \u09AA\u09CD\u09B0\u09A4\u09BF\u099F\u09BF \u09AA\u09CD\u09B0\u09B6\u09CD\u09A8\u09C7\u09B0 \u0995\u09CD\u09B7\u09C7\u09A4\u09CD\u09B0\u09C7 \u09A4\u09C1\u09AE\u09BF \u0995\u09C7\u09AC\u09B2 \u098F\u0995\u09AC\u09BE\u09B0 \u0989\u09A4\u09CD\u09A4\u09B0 \u0995\u09B0\u09BE\u09B0 \u09B8\u09C1\u09AF\u09CB\u0997 \u09AA\u09BE\u09AC\u09C7\u0964 \u098F\u0995\u09AC\u09BE\u09B0 \u0989\u09A4\u09CD\u09A4\u09B0 \u09B8\u09BF\u09B2\u09C7\u0995\u09CD\u099F \u0995\u09B0\u09BE\u09B0 \u09AA\u09B0 \u09A4\u09BE \u09AA\u09B0\u09BF\u09AC\u09B0\u09CD\u09A4\u09A8 \u0995\u09B0\u09BE\u09B0 \u0995\u09CB\u09A8\u09CB \u09B8\u09C1\u09AF\u09CB\u0997 \u09A8\u09BE\u0987\u0964 ",-1)),re={class:"mx-2 text-gray-900 md:w-2/3 md:mx-auto"},se=["innerHTML"],oe={class:"mt-3"},ne=["innerHTML","onClick"],ie=["innerHTML","onClick"],le=["innerHTML","onClick"],de=["innerHTML","onClick"],ae={class:"mb-10 text-center"},ce={key:2,class:"pb-10"},ue={class:"py-4 text-center"},he={class:"text-2xl font-bold text-gray-900 dark:text-white"},me=v(()=>n("p",{class:"text-center dark:text-white"}," \u09AA\u09CD\u09B0\u09A4\u09BF\u099F\u09BF \u09AA\u09CD\u09B0\u09B6\u09CD\u09A8\u09C7\u09B0 \u0995\u09CD\u09B7\u09C7\u09A4\u09CD\u09B0\u09C7 \u09A4\u09C1\u09AE\u09BF \u0995\u09C7\u09AC\u09B2 \u098F\u0995\u09AC\u09BE\u09B0 \u0989\u09A4\u09CD\u09A4\u09B0 \u0995\u09B0\u09BE\u09B0 \u09B8\u09C1\u09AF\u09CB\u0997 \u09AA\u09BE\u09AC\u09C7\u0964 \u098F\u0995\u09AC\u09BE\u09B0 \u0989\u09A4\u09CD\u09A4\u09B0 \u09B8\u09BF\u09B2\u09C7\u0995\u09CD\u099F \u0995\u09B0\u09BE\u09B0 \u09AA\u09B0 \u09A4\u09BE \u09AA\u09B0\u09BF\u09AC\u09B0\u09CD\u09A4\u09A8 \u0995\u09B0\u09BE\u09B0 \u0995\u09CB\u09A8\u09CB \u09B8\u09C1\u09AF\u09CB\u0997 \u09A8\u09BE\u0987\u0964 ",-1)),ge={key:0,class:"mx-2 md:w-2/3 md:mx-auto"},be=["innerHTML"],ye={class:"mt-3"},_e=["innerHTML","onClick"],ke=["innerHTML","onClick"],xe=["innerHTML","onClick"],pe=["innerHTML","onClick"],ve={key:0,class:"my-2 text-center"},fe={key:1,class:"mb-10 text-center"},we=["disabled"],Te={key:1,class:"mx-2 md:w-2/3 md:mx-auto"},Le={class:"my-2 text-2xl font-semibold text-center"},Me=["innerHTML"],Ce={class:"mt-3"},He=["innerHTML"],Se=["innerHTML"],Ie=["innerHTML"],Re=["innerHTML"],De={key:0,class:"my-2 poppins"},Ne=["innerHTML"],Ae={class:"material-icons"},Be={key:0,class:"my-2 text-center"},Ye={key:1,class:"mb-10 text-center"},je=["disabled"],Ve={key:3,class:"white--text fixed__timer"},Ee={class:"text-white bg-blue-500 border border-white shadow"},We={key:1,class:"flex items-center justify-center w-full h-screen"},Oe=v(()=>n("div",{class:"flex items-center justify-center -mt-24 space-x-1 text-sm text-gray-700"},[n("svg",{fill:"none",class:"w-10 h-10 animate-spin",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},[n("path",{"clip-rule":"evenodd",d:"M15.165 8.53a.5.5 0 01-.404.58A7 7 0 1023 16a.5.5 0 011 0 8 8 0 11-9.416-7.874.5.5 0 01.58.404z",fill:"currentColor","fill-rule":"evenodd"})]),n("div",{class:"text-lg dark:text-white"},"Loading ...")],-1)),ze=[Oe];function Je(a,r,d,h,t,i){const m=D("router-link");return t.loading?(s(),o("div",We,ze)):(s(),o("div",{key:0,onContextmenu:e=>!1},[!t.unknown&&!t.loading&&!t.retake?(s(),o("div",W,[n("div",O,[t.result[1]?(s(),o("h2",z,[t.result[1]!=="Time's up"?(s(),o("span",J,"You Scored:")):l("",!0),x(" "+g(t.result[1]),1)])):l("",!0),t.result[1]=="Time's up"?(s(),o("p",Q,"But you can still give the exam. Click 'Test yourself again'.")):l("",!0),n("div",K,[this.ended<i.currentTime||t.immediate?(s(),N(m,{key:0,to:`/solution/${this.$route.params.id}`,class:"my-2 btn btn-primary"},{default:A(()=>[F]),_:1},8,["to"])):(s(),o("button",{key:1,class:"btn btn-primary",onClick:r[0]||(r[0]=(...e)=>i.endalert&&i.endalert(...e)),textContent:g("View Solution")},null,8,P))])]),!t.retake&&t.solution.length>0?(s(),o("div",$,[B(m,{to:`/ranking/${this.$route.params.id}`,class:"mx-auto my-2 btn btn-primary",text:"View Your Rank"},null,8,["to"])])):l("",!0),!t.retake&&t.solution.length>0?(s(),o("div",G,[n("button",{class:"mx-auto btn btn-primary",onClick:r[1]||(r[1]=(...e)=>i.startRetake&&i.startRetake(...e)),textContent:g("Test Yourself Again")},null,8,U)])):l("",!0),!t.retake&&t.solution.length>0?(s(),o("div",Z," Retake exam score will not be recorded ")):l("",!0)])):l("",!0),t.retake?(s(),o("div",X,[n("div",q,[n("h1",ee," Retake Exam - "+g(this.$route.params.id),1),te]),n("div",re,[(s(!0),o(k,null,p(t.solution,(e,c)=>(s(),o("div",{key:c,class:u(["p-5 mx-auto my-3 text-lg text-gray-900 border border-gray-300 rounded-md shadow-lg bg-gray-50 kalpurush",{"stop-events":t.solution[c].selected}])},[n("div",{class:"inline-flex",innerHTML:`<span class='mr-2'>${c+1})</span>`+e.question},null,8,se),n("div",oe,[e.a?(s(),o("div",{key:0,innerHTML:e.a,onClick:b=>t.solution[c].selected=e.a,class:u(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold text-black  my-3 p-3 rounded  ${e.a==e.selected?"border-2 border-green-500 bg-green-300 dark:bg-indigo-400 dark:border-indigo-500 ":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,ne)):l("",!0),e.b?(s(),o("div",{key:1,innerHTML:e.b,onClick:b=>t.solution[c].selected=e.b,class:u(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.b==e.selected?"border-2 border-green-500 bg-green-300 dark:bg-indigo-400 dark:border-indigo-500 ":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,ie)):l("",!0),e.c?(s(),o("div",{key:2,innerHTML:e.c,onClick:b=>t.solution[c].selected=e.c,class:u(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.c==e.selected?"border-2 border-green-500 bg-green-300 dark:bg-indigo-400 dark:border-indigo-500 ":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,le)):l("",!0),e.d?(s(),o("div",{key:3,innerHTML:e.d,onClick:b=>t.solution[c].selected=e.d,class:u(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.d==e.selected?"border-2 border-green-500 bg-green-300 dark:bg-indigo-400 dark:border-indigo-500 ":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,de)):l("",!0)])],2))),128)),n("div",ae,[n("button",{onClick:r[2]||(r[2]=(...e)=>i.retakeResult&&i.retakeResult(...e)),class:"px-4 py-3 mx-auto font-semibold text-white rounded shadow outline-none hover:shadow-lg bg-gradient-to-t from-green-500 to-green-400"}," Submit ")])])])):l("",!0),t.questions.length>0?(s(),o("div",ce,[n("div",ue,[n("h1",he," Exam - "+g(this.$route.params.id),1),me]),t.viewDetails?(s(),o("div",Te,[n("h2",Le," You Scored: "+g(t.score),1),(s(!0),o(k,null,p(t.questions,(e,c)=>(s(),o("div",{key:c,class:"p-5 mx-auto my-3 text-lg border border-gray-300 rounded-md shadow-lg bg-gray-50 dark:bg-black dark:text-white kalpurush"},[n("div",{class:"inline-flex mb-2 text-lg font-semibold",innerHTML:`<span class='mr-2'>${c+1})</span>`+e.question},null,8,Me),n("div",Ce,[e.a?(s(),o("div",{key:0,innerHTML:e.a,class:u(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold text-black  my-3 p-3 rounded   ${e.a==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"} ${e.a==e.correct?"border-2 border-green-500 bg-green-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,He)):l("",!0),e.b?(s(),o("div",{key:1,innerHTML:e.b,class:u(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.b==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"} ${e.b==e.correct?"border-2 border-green-500 bg-green-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,Se)):l("",!0),e.c?(s(),o("div",{key:2,innerHTML:e.c,class:u(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.c==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"} ${e.c==e.correct?"border-2 border-green-500 bg-green-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,Ie)):l("",!0),e.d?(s(),o("div",{key:3,innerHTML:e.d,class:u(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded   ${e.d==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"} ${e.d==e.correct?"border-2 border-green-500 bg-green-300":"dark:bg-gray-600 bg-gray-200 dark:text-white"}`)},null,10,Re)):l("",!0)]),e.explain?(s(),o("h2",De,"Explain:")):l("",!0),e.explain?(s(),o("div",{key:1,class:"p-3 my-3 bg-gray-200 border border-green-500 rounded dark:bg-gray-600",innerHTML:e.explain},null,8,Ne)):l("",!0),n("div",{class:u(["flex gap-2 my-2 text-xl font-semibold",{"text-red-500":e.correct!=e.selected,"text-green-500":e.correct==e.selected}])},[n("span",Ae,g(e.correct==e.selected?"done":"close"),1),e.selected?(s(),o(k,{key:0},[x(g(e.correct==e.selected?"Correct":"Wrong"),1)],64)):l("",!0),x(" "+g(e.selected?"":"Not answered"),1)],2)]))),128)),t.viewDetails?(s(),o("div",Be,[n("button",{onClick:r[5]||(r[5]=(...e)=>i.gotoLeaderboard&&i.gotoLeaderboard(...e)),class:"btn btn-large btn-primary"}," Leaderboard ")])):l("",!0),t.viewDetails?l("",!0):(s(),o("div",Ye,[n("button",{onClick:r[6]||(r[6]=(...e)=>i.submitAns&&i.submitAns(...e)),disabled:t.eload,class:"px-4 py-3 mx-auto font-semibold text-white rounded shadow outline-none hover:shadow-lg bg-gradient-to-t from-green-500 to-green-400"},g(t.eload?"Loading...":"Submit"),9,je)]))])):(s(),o("div",ge,[(s(!0),o(k,null,p(t.questions,(e,c)=>(s(),o("div",{key:c,class:u(["p-5 mx-auto my-3 text-lg border border-gray-300 rounded-md shadow-lg bg-gray-50 kalpurush",{"stop-events":t.questions[c].selected}])},[n("div",{class:"inline-flex mb-2 text-lg font-semibold text-gray-900",innerHTML:`<span class='mr-2'>${c+1})</span>`+e.question},null,8,be),n("div",ye,[e.a?(s(),o("div",{key:0,innerHTML:e.a,onClick:b=>t.questions[c].selected=e.a,class:u(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.a==e.selected?"border-2 border-green-500 bg-green-300  ":" bg-gray-200 "}`)},null,10,_e)):l("",!0),e.b?(s(),o("div",{key:1,innerHTML:e.b,onClick:b=>t.questions[c].selected=e.b,class:u(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.b==e.selected?"border-2 border-green-500 bg-green-300  ":" bg-gray-200 "}`)},null,10,ke)):l("",!0),e.c?(s(),o("div",{key:2,innerHTML:e.c,onClick:b=>t.questions[c].selected=e.c,class:u(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.c==e.selected?"border-2 border-green-500 bg-green-300  ":" bg-gray-200 "}`)},null,10,xe)):l("",!0),e.d?(s(),o("div",{key:3,innerHTML:e.d,onClick:b=>t.questions[c].selected=e.d,class:u(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.d==e.selected?"border-2 border-green-500 bg-green-300  ":" bg-gray-200 "}`)},null,10,pe)):l("",!0)])],2))),128)),t.viewDetails?(s(),o("div",ve,[n("button",{onClick:r[3]||(r[3]=(...e)=>i.gotoLeaderboard&&i.gotoLeaderboard(...e)),class:"btn btn-large btn-primary"}," Leaderboard ")])):l("",!0),t.viewDetails?l("",!0):(s(),o("div",fe,[n("button",{onClick:r[4]||(r[4]=(...e)=>i.submitAns&&i.submitAns(...e)),disabled:t.eload,class:"px-4 py-3 mx-auto font-semibold text-white rounded shadow outline-none hover:shadow-lg bg-gradient-to-t from-green-500 to-green-400"},g(t.eload?"Loading...":"Submit"),9,we)]))]))])):l("",!0),t.show?(s(),o("div",Ve,[n("div",Ee,g(t.minute)+" : "+g(t.second),1)])):l("",!0)],32))}var Pe=V(E,[["render",Je],["__scopeId","data-v-0d5061e9"]]);export{Pe as default};
